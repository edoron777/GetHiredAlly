# TASK: Create DocumentEditor Main Component and CSS

## FILE 1: client/src/components/common/DocumentEditor/DocumentEditor.tsx

import React, { useMemo } from 'react'
import { DocumentEditorProps, DEFAULT_DOCUMENT_CONFIG } from './types'
import { detectFormat } from './utils/formatDetector'
import { MarkdownRenderer } from './renderers/MarkdownRenderer'
import { WordRenderer } from './renderers/WordRenderer'
import { TextRenderer } from './renderers/TextRenderer'
import './DocumentEditorStyles.css'

export const DocumentEditor: React.FC<DocumentEditorProps> = ({
  content,
  format = 'auto',
  originalFileUrl,
  originalFileName,
  config = {},
  markers = [],
  markerConfig,
  onMarkerClick,
  className = ''
}) => {
  const mergedConfig = { ...DEFAULT_DOCUMENT_CONFIG, ...config }
  
  const detectedFormat = useMemo(() => {
    if (format !== 'auto') return format
    return detectFormat(content, originalFileName)
  }, [format, content, originalFileName])
  
  const cssVariables = {
    '--doc-max-width': `${mergedConfig.maxWidth}px`,
    '--doc-min-height': `${mergedConfig.minHeight}px`,
    '--doc-padding': `${mergedConfig.padding}px`,
    '--doc-font-family': mergedConfig.fontFamily,
    '--doc-font-size': `${mergedConfig.fontSize}px`,
    '--doc-line-height': String(mergedConfig.lineHeight),
    '--doc-margin-color': mergedConfig.marginColor,
    '--doc-paper-color': mergedConfig.paperColor,
  } as React.CSSProperties
  
  const renderContent = () => {
    const rendererProps = {
      content,
      originalFileUrl,
      markers: mergedConfig.enableHighlighting ? markers : [],
      markerConfig,
      onMarkerClick
    }
    
    switch (detectedFormat) {
      case 'markdown':
        return <MarkdownRenderer {...rendererProps} />
      case 'word':
        return <WordRenderer {...rendererProps} />
      case 'pdf':
      case 'text':
      default:
        return <TextRenderer {...rendererProps} />
    }
  }
  
  return (
    <div 
      className={`document-editor-container ${className}`}
      style={cssVariables}
    >
      <div className={`document-editor-paper ${mergedConfig.paperShadow ? 'with-shadow' : ''}`}>
        <div className="document-editor-content">
          {renderContent()}
        </div>
      </div>
    </div>
  )
}

export default DocumentEditor

## FILE 2: client/src/components/common/DocumentEditor/DocumentEditorStyles.css

@import url('https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap');

.document-editor-container {
  background: var(--doc-margin-color, #e8eaed);
  min-height: var(--doc-min-height, 800px);
  padding: 40px;
  display: flex;
  justify-content: center;
  overflow-y: auto;
}

.document-editor-paper {
  background: var(--doc-paper-color, #ffffff);
  max-width: var(--doc-max-width, 1235px);
  width: 100%;
  min-height: var(--doc-min-height, 800px);
  padding: var(--doc-padding, 60px);
  border-radius: 2px;
}

.document-editor-paper.with-shadow {
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.document-editor-content {
  font-family: var(--doc-font-family, 'Source Sans Pro', sans-serif);
  font-size: var(--doc-font-size, 18px);
  line-height: var(--doc-line-height, 1.7);
  color: #1a1a1a;
}

/* Markdown styles */
.markdown-content h1 { font-size: 1.8em; font-weight: 700; margin: 0.8em 0 0.4em 0; }
.markdown-content h2 { font-size: 1.5em; font-weight: 700; margin: 0.8em 0 0.4em 0; }
.markdown-content h3 { font-size: 1.25em; font-weight: 700; margin: 0.8em 0 0.4em 0; }
.markdown-content p { margin: 0.8em 0; }
.markdown-content strong { font-weight: 700; }
.markdown-content em { font-style: italic; }
.markdown-content ul, .markdown-content ol { padding-left: 2em; margin: 0.8em 0; }
.markdown-content li { margin: 0.4em 0; }
.markdown-content a { color: #337ea9; text-decoration: underline; }
.markdown-content code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px; }

/* Word styles */
.word-content { font-family: var(--doc-font-family, 'Source Sans Pro', sans-serif); }
.word-content h1, .word-content h2, .word-content h3 { font-weight: 700; margin: 0.8em 0 0.4em 0; }
.word-content p { margin: 0.6em 0; }
.word-loading { display: flex; align-items: center; justify-content: center; min-height: 200px; color: #666; }

/* Text styles */
.text-content { white-space: pre-wrap; word-wrap: break-word; }
.text-preformatted { font-family: inherit; font-size: inherit; line-height: inherit; margin: 0; white-space: pre-wrap; }

/* Mobile */
@media (max-width: 768px) {
  .document-editor-container { padding: 16px; }
  .document-editor-paper { padding: 24px; }
  .document-editor-content { font-size: 16px; }
}

## VERIFICATION

Confirm both files compile without errors.
Report: "DocumentEditor created" or list errors.